<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HSE Mini App</title>
    <!-- 1. Подключаем Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 2. Подключаем Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- 3. Подключаем наши собственные стили -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-white text-gray-900">

    <!-- 4. Основной контейнер для контента страниц -->
    <main id="app-content">

        <!-- 
        =================================
        СТРАНИЦА 1: БЛИЖАЙШИЕ СОБЫТИЯ
        =================================
        -->
        <div id="page-events" class="p-4 space-y-6">
            <h1 class="text-3xl font-bold text-black">Ближайшие события</h1>
            
            <!-- 
                Этот контейнер будет заполняться динамически 
                данными из вашего API (loadEvents() в app.js) 
            -->
            <div id="events-container" class="space-y-6">
                <!-- Заглушка, если событий нет (управляется из app.js) -->
                <p class="text-center text-gray-500 pt-10">Загрузка мероприятий...</p>
            </div>
            
            <!-- Водяной знак -->
            <footer class="text-center text-gray-400 text-xs font-medium pt-4">
                NFT club © GSB HSE 1993–2025
            </footer>
        </div>

        <!-- 
        =================================
        СТРАНИЦА 2: МОИ NFT
        =================================
        -->
        <div id="page-nfts" class="p-4 space-y-6 hidden">
            <h1 class="text-3xl font-bold text-black">Мои NFT</h1>
            
            <!-- Блок сортировки (пока неактивен) -->
            <div class="flex gap-2">
                <button class="flex-1 bg-gray-100 text-gray-700 font-semibold py-3 px-4 rounded-xl flex items-center justify-center gap-2 opacity-50 cursor-not-allowed">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                    Сортировка
                </button>
                <button class="flex-1 bg-gray-100 text-gray-700 font-semibold py-3 px-4 rounded-xl flex items-center justify-center gap-2 opacity-50 cursor-not-allowed">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                    Коллекция
                </button>
            </div>
            
            <!-- 
                Эта сетка будет заполняться динамически 
                данными из вашего API (loadNFTs() в app.js) 
            -->
            <div id="nfts-container" class="nft-grid">
                <!-- Заглушка, если NFT нет (управляется из app.js) -->
                 <p class="col-span-2 text-center text-gray-500 pt-10">Загрузка NFT...</p>
            </div>
            
            <!-- Водяной знак -->
            <footer class="text-center text-gray-400 text-xs font-medium pt-4">
                NFT club © GSB HSE 1993–2025
            </footer>
        </div>

        <!-- 
        =================================
        СТРАНИЦА 3: ПРОФИЛЬ
        =================================
        -->
        <div id="page-profile" class="p-4 space-y-4 hidden">
            <h1 class="text-3xl font-bold text-black mb-2">Профиль</h1>

            <!-- Блок профиля -->
            <div id="profile-info-block" class="profile-header">
                <!-- Аватарка -->
                <div class="w-16 h-16 bg-white rounded-lg flex items-center justify-center overflow-hidden">
                    <img id="profile-avatar" src="https://placehold.co/64x64/E0E7FF/374151?text=User" alt="Avatar" class="w-full h-full object-cover">
                </div>
                <!-- Инфо -->
                <div>
                    <h2 id="profile-name" class="font-bold text-xl text-black">Загрузка...</h2>
                    <p id="profile-username" class="font-medium text-gray-600">...</p>
                </div>
                <!-- Стрелка (декор) -->
                <div class="ml-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                </div>
            </div>
            
            <!-- Кнопки меню -->
            <div class="space-y-3 pt-2">
                <!-- Мои мероприятия -->
                <button id="my-events-button" class="profile-button w-full">
                    <span class="flex items-center gap-3">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line><path d="m9 16 2 2 4-4"></path></svg>
                        Мои мероприятия
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                </button>
                
                <!-- Мой QR-код -->
                <button id="my-qr-button" class="profile-button w-full">
                    <span class="flex items-center gap-3">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect></svg>
                        Мой QR-код
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                </button>
                
                <!-- Настройки -->
                <button class="profile-button w-full opacity-60 cursor-not-allowed">
                    <span class="flex items-center gap-3">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                        Настройки
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                </button>
                
                <!-- Служба поддержки -->
                <button class="profile-button w-full opacity-60 cursor-not-allowed">
                    <span class="flex items-center gap-3">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8.67V20a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V8.67a8 8 0 1 1 12 0Z"></path><path d="M12 12v0"></path><path d="M12 16v0"></path></svg>
                        Служба поддержки
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                </button>
                
                 <!-- Обратная связь -->
                <button class="profile-button w-full opacity-60 cursor-not-allowed">
                    <span class="flex items-center gap-3">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline><line x1="12" y1="22" x2="12" y2="13"></line><line x1="19" y1="15" x2="19" y2="22"></line><line x1="5" y1="15" x2="5" y2="22"></line><polyline points="19 15 12 13 5 15"></polyline></svg>
                        Обратная связь
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                </button>
                
                 <!-- О проекте -->
                <button class="profile-button w-full opacity-60 cursor-not-allowed">
                    <span class="flex items-center gap-3">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                        О проекте
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                </button>
            </div>
            
             <!-- Водяной знак -->
            <footer class="text-center text-gray-500 text-xs font-medium pt-8">
                NFT club © GSB HSE 1993–2025
            </footer>
        </div>
    </main>

    <!-- 5. Фиксированная нижняя панель навигации -->
    <nav id="app-navbar">
        <button id="nav-events" class="nav-button active">
            <!-- Иконка Календарь -->
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M8 2V5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M16 2V5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3.5 9.09H20.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M21 8.5V17C21 20 19.5 22 16 22H8C4.5 22 3 20 3 17V8.5C3 5.5 4.5 3.5 8 3.5H16C19.5 3.5 21 5.5 21 8.5Z" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11.9955 13.7H12.0045" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8.29431 13.7H8.3033" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8.29431 16.7H8.3033" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            <span>События</span>
        </button>

        <button id="nav-nfts" class="nav-button">
            <!-- Иконка NFT (слои/коллекция) -->
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 7L12 12L22 7L12 2Z" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 17L12 22L22 17" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 12L12 17L22 12" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            <span>Мои NFT</span>
        </button>

        <button id="nav-profile" class="nav-button">
            <!-- Иконка Профиль -->
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 21V19C20 16.7909 18.2091 15 16 15H8C5.79086 15 4 16.7909 4 19V21" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            <span>Профиль</span>
        </button>
    </nav>
    
    <!-- 
    =================================
    ❗️❗️ НОВЫЙ БЛОК: МОДАЛЬНОЕ ОКНО QR-КОДА ❗️❗️
    =================================
    -->
    <div id="qr-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-2xl p-6 relative max-w-sm w-full text-center">
            <!-- Кнопка закрытия -->
            <button id="modal-close" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
            
            <h3 class="text-xl font-bold text-black mb-4">Ваш QR-код для чекина</h3>
            
            <!-- Сюда будет вставлен QR -->
            <div class="w-full aspect-square bg-gray-100 rounded-lg flex items-center justify-center">
                <img id="modal-qr-image" src="" alt="QR Code" class="w-full h-full rounded-lg">
            </div>
            
            <p class="text-gray-500 text-sm mt-4">
                Покажите этот QR-код организатору мероприятия для сканирования.
            </p>
        </div>
    </div>


    <!-- 6. Подключаем наш JavaScript-файл -->
    <script src="app.js" defer></script>

</body>
</html>
